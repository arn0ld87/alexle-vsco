---
import { getEntry } from 'astro:content';
const hero = await getEntry('hero', 'hero');
const data = hero.data;
const ctaHref = data.ctaHref ?? '/projekte';
const isVideo = data.media?.includes('.mp4');
---
<section class="container mx-auto px-4 py-20 grid gap-8 md:grid-cols-2 items-center">
  <div>
    <h1 class="text-4xl md:text-6xl font-semibold tracking-tight">{data.title}</h1>
    {data.subtitle && <p class="mt-4 text-gray-300 text-lg">{data.subtitle}</p>}
    {data.cta && (
      <a
        href={ctaHref}
        class="inline-block mt-8 rounded bg-blue-600 px-6 py-3 font-medium transition hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-400"
      >
        {data.cta}
      </a>
    )}
  </div>
  {data.media && (
    <div class="relative aspect-video overflow-hidden rounded-lg border border-white/5 bg-black shadow-lg">
      {isVideo ? (
        <video src={data.media} autoplay loop muted playsinline class="h-full w-full object-cover" />
      ) : (
        <img src={data.media} alt="" class="h-full w-full object-cover" loading="lazy" />
      )}
    </div>
  )}
</section>
