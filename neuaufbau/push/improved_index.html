<!DOCTYPE html>
<html lang="de">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MWDF3CGRHL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-MWDF3CGRHL');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Die Schnittstelle M.2 - Vortrag von Alexander Schneider & Michael Worm</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.164.1/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.164.1/examples/jsm/"
            }
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <style>
        #webgl {
            position: fixed;
            top: 0;
            left: 0;
            outline: none;
            z-index: 0;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --dark-bg: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            --card-bg: rgba(31, 41, 55, 0.8);
            --border-color: rgba(75, 85, 99, 0.3);
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f172a; /* Fallback background */
            color: var(--text-primary);
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            height: 100vh;
            line-height: 1.6;
            font-feature-settings: 'kern' 1, 'liga' 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Welcome Screen */
        .welcome-screen {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            background: radial-gradient(ellipse at center, rgba(79, 70, 229, 0.15) 0%, transparent 50%), 
                        var(--dark-bg);
            position: relative;
            z-index: 10;
            backdrop-filter: blur(20px);
        }
        
        .welcome-screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(148,163,184,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
            z-index: -1;
        }
        
        .welcome-title {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 900;
            margin-bottom: 1.5rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.1;
            letter-spacing: -0.02em;
            text-shadow: 0 0 40px rgba(79, 70, 229, 0.3);
        }
        
        .presenter-info {
            font-size: clamp(1.25rem, 2.5vw, 1.75rem);
            margin-bottom: 0.75rem;
            color: var(--text-secondary);
            font-weight: 600;
            letter-spacing: -0.01em;
        }
        
        .course-info {
            font-size: clamp(1rem, 2vw, 1.5rem);
            color: var(--text-muted);
            margin-bottom: 3rem;
            font-weight: 500;
            font-family: 'JetBrains Mono', monospace;
            background: var(--card-bg);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
        }
        
        .start-btn {
            padding: 1.25rem 2.5rem;
            font-size: 1.25rem;
            font-weight: 700;
            background: var(--primary-gradient);
            border: none;
            border-radius: 1rem;
            color: white;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 32px rgba(79, 70, 229, 0.3);
            position: relative;
            overflow: hidden;
            letter-spacing: 0.025em;
        }
        
        .start-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .start-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 40px rgba(79, 70, 229, 0.4);
        }
        
        .start-btn:hover::before {
            left: 100%;
        }
        
        /* Presentation Sections */
        .presentation-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: none; /* Initially hidden */
            min-height: 100vh;
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }
        
        .section {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 1.5rem;
            padding: 3rem;
            margin-bottom: 2rem;
            width: 1024px; /* Fixed width for consistency in 3D */
            backdrop-filter: blur(20px);
            pointer-events: auto; /* Re-enable pointer events for slides */
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
            border-radius: 1.5rem 1.5rem 0 0;
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(40px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .section-title {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 2rem;
            text-align: center;
            letter-spacing: -0.02em;
            line-height: 1.2;
        }

        .content-section {
            font-size: 1.125rem;
            line-height: 1.7;
            color: var(--text-secondary);
        }

        .content-section p {
            margin-bottom: 1.5rem;
        }

        .content-section strong {
            color: var(--text-primary);
            font-weight: 600;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 2rem 0;
            padding: 1.5rem 2rem;
            background: var(--card-bg);
            border-radius: 1.5rem;
            border: 1px solid var(--border-color);
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            width: auto;
            min-width: 350px;
            z-index: 100;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(20px);
        }
        
        .nav-btn {
            padding: 1rem 1.75rem;
            background: var(--card-bg);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 0.95rem;
            min-width: 120px;
            position: relative;
            overflow: hidden;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--primary-gradient);
            transition: left 0.3s ease;
            z-index: -1;
        }
        
        .nav-btn:hover:not(:disabled)::before {
            left: 0;
        }
        
        .nav-btn:hover:not(:disabled) {
            color: white;
            border-color: transparent;
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(79, 70, 229, 0.3);
        }
        
        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
        }
        
        .step-indicator {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .slide-number {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: var(--primary-gradient);
            color: white;
            padding: 0.75rem 1.25rem;
            border-radius: 2rem;
            font-size: 0.875rem;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            box-shadow: 0 4px 20px rgba(79, 70, 229, 0.3);
        }
        
        .presenter-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            padding: 1rem;
            text-align: center;
            font-size: 0.875rem;
            color: var(--text-muted);
            border-top: 1px solid var(--border-color);
            font-family: 'JetBrains Mono', monospace;
            font-weight: 500;
        }

        /* Pin Layout Visualization - Enhanced */
        .pin-connector {
            width: 100%;
            max-width: 400px;
            height: 80px;
            background: linear-gradient(135deg, var(--card-bg), rgba(75, 85, 99, 0.8));
            border-radius: 12px;
            position: relative;
            margin: 0 auto;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
        }

        .pin-row {
            position: absolute;
            width: 90%;
            height: 8px;
            left: 5%;
            background: linear-gradient(90deg, #d1d5db, #9ca3af);
            border-radius: 4px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .pin-row.top {
            top: 15px;
        }

        .pin-row.bottom {
            bottom: 15px;
        }

        .pin-notch {
            position: absolute;
            height: 24px;
            background: var(--dark-bg);
            border-radius: 6px;
            top: 50%;
            transform: translateY(-50%);
            border: 2px solid;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .pin-labels {
            position: absolute;
            width: 100%;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            padding: 0 15px;
            font-size: 11px;
            color: var(--text-muted);
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
        }

        /* Enhanced Cards and Components */
        .bg-gray-800 {
            background: var(--card-bg) !important;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
        }

        .bg-amber-900\/20 {
            background: rgba(245, 158, 11, 0.1) !important;
            border-color: rgba(245, 158, 11, 0.3) !important;
        }

        .bg-blue-900\/20 {
            background: rgba(59, 130, 246, 0.1) !important;
            border-color: rgba(59, 130, 246, 0.3) !important;
        }

        .bg-green-900\/20 {
            background: rgba(34, 197, 94, 0.1) !important;
            border-color: rgba(34, 197, 94, 0.3) !important;
        }

        .bg-red-900\/20 {
            background: rgba(239, 68, 68, 0.1) !important;
            border-color: rgba(239, 68, 68, 0.3) !important;
        }

        .bg-yellow-900\/20 {
            background: rgba(234, 179, 8, 0.1) !important;
            border-color: rgba(234, 179, 8, 0.3) !important;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .welcome-title {
                font-size: 2.5rem;
            }
            
            .presenter-info {
                font-size: 1.25rem;
            }
            
            .navigation {
                flex-direction: column;
                gap: 1rem;
                min-width: 280px;
                padding: 1rem;
            }

            .section {
                padding: 2rem 1.5rem;
                margin: 0 1rem 2rem;
            }

            .presentation-container {
                padding: 1rem;
            }

            .slide-number {
                top: 1rem;
                right: 1rem;
                padding: 0.5rem 1rem;
                font-size: 0.75rem;
            }
        }

        @media (max-width: 480px) {
            .nav-btn {
                min-width: 100px;
                padding: 0.75rem 1.25rem;
                font-size: 0.875rem;
            }

            .step-indicator {
                font-size: 1rem;
                margin: 0 1rem;
            }
        }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">

<canvas id="webgl"></canvas>

<!-- Welcome Screen -->
    <div class="welcome-screen" id="welcomeScreen">
        <h1 class="welcome-title">Die Schnittstelle M.2</h1>
        <p class="presenter-info">Vortrag von Alexander Schneider & Michael Worm</p>
        <p class="course-info">FI-S 25/02</p>
        
        <!-- Inhaltsverzeichnis auf Startseite -->
        <div class="mt-8 mb-8 max-w-md mx-auto text-left">
            <h2 class="text-xl font-semibold text-gray-300 mb-4 text-center">Inhaltsverzeichnis</h2>
            <ol class="text-gray-300 space-y-2 text-sm">
                <li>1. Grundlagen und Definition</li>
                <li>2. Physische Merkmale I: Formfaktoren</li>
                <li>3. Physische Merkmale II: Keying (Kodierung)</li>
                <li>4. Leistungsunterschiede: NVMe vs. SATA</li>
                <li>5. Anwendungsfälle und Auswahlkriterien</li>
                <li>6. Einbau und Konfiguration</li>
                <li>7. Vorteile und Herausforderungen</li>
                <li>8. Ausblick und Zukunft</li>
            </ol>
        </div>
        
        <button class="start-btn" onclick="window.startPresentation()">Präsentation Starten</button>
    </div>

    <!-- Presentation Container -->
    <div class="presentation-container" id="presentationContainer">
        <!-- Section 1: Grundlagen -->
        <div class="section" id="section1">
            <div class="slide-number">1/8</div>
            <h1 class="section-title">Grundlagen und Definition</h1>
            <div class="content-section">
                <p class="mb-4 text-lg"><strong class="text-indigo-400">Definition:</strong> M.2, ursprünglich als NGFF (Next Generation Form Factor) bekannt, ist ein Standard für interne Erweiterungskarten. Er löste mSATA ab und bietet höhere Flexibilität und Leistung auf kleinerem Raum.</p>
                <p class="text-lg"><strong class="text-indigo-400">Motivation:</strong> Die Entwicklung wurde durch den Bedarf an immer kleineren und leistungsfähigeren Komponenten für Ultrabooks und andere kompakte Systeme angetrieben.</p>
            </div>
        </div>

        <!-- Section 2: Formfaktoren -->
        <div class="section" id="section2">
            <div class="slide-number">2/8</div>
            <h1 class="section-title">Physische Merkmale I: Formfaktoren</h1>
            <div class="content-section">
                <p class="mb-4 text-lg">Die Größe einer M.2-Karte wird durch eine Zahlenkombination wie "2280" definiert. Die ersten beiden Ziffern geben die Breite (meist 22 mm) an, die folgenden die Länge in Millimetern. Wähle eine Länge, um die Skalierung zu visualisieren.</p>
                
                <div class="flex flex-wrap gap-2 mb-6 justify-center" id="formFactorButtons">
                    <button class="nav-btn" data-length="30">2230</button>
                    <button class="nav-btn" data-length="42">2242</button>
                    <button class="nav-btn" data-length="60">2260</button>
                    <button class="nav-btn active" data-length="80" style="background-color: #4f46e5;">2280</button>
                    <button class="nav-btn" data-length="110">22110</button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="bg-gray-800 p-6 rounded-lg max-w-md mx-auto">
                        <div class="flex items-center">
                            <span class="text-sm mr-3 w-16 text-center font-semibold" id="ssdLabel">2280</span>
                            <div class="w-full bg-gray-900 rounded-lg p-3">
                                <div class="ssd-visualization" id="ssdVisualization" style="width: 70%; height: 22px; background-color: #4f46e5; border-radius: 4px; position: relative;">
                                    <div style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%); width: 4px; height: 4px; background-color: #9ca3af; border-radius: 50%;"></div>
                                </div>
                            </div>
                        </div>
                        <p class="text-xs text-gray-400 mt-2 text-center">Die Länge der Visualisierung entspricht dem tatsächlichen Verhältnis</p>
                    </div>
                    <div>
                        <img src="1.jpg" alt="M.2 Formfaktoren" class="rounded-lg shadow-lg w-full">
                    </div>
                </div>

                <div class="mt-6 grid grid-cols-2 md:grid-cols-5 gap-4 text-center">
                    <div class="bg-gray-800 p-3 rounded-lg">
                        <h3 class="text-indigo-400 font-semibold text-sm">2230</h3>
                        <p class="text-xs">22 × 30 mm</p>
                    </div>
                    <div class="bg-gray-800 p-3 rounded-lg">
                        <h3 class="text-indigo-400 font-semibold text-sm">2242</h3>
                        <p class="text-xs">22 × 42 mm</p>
                    </div>
                    <div class="bg-gray-800 p-3 rounded-lg">
                        <h3 class="text-indigo-400 font-semibold text-sm">2260</h3>
                        <p class="text-xs">22 × 60 mm</p>
                    </div>
                    <div class="bg-gray-800 p-3 rounded-lg">
                        <h3 class="text-indigo-400 font-semibold text-sm">2280</h3>
                        <p class="text-xs">22 × 80 mm</p>
                    </div>
                    <div class="bg-gray-800 p-3 rounded-lg">
                        <h3 class="text-indigo-400 font-semibold text-sm">22110</h3>
                        <p class="text-xs">22 × 110 mm</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 3: Keying -->
        <div class="section" id="section3">
            <div class="slide-number">3/8</div>
            <h1 class="section-title">Physische Merkmale II: Keying (Kodierung)</h1>
            <div class="content-section">
                <p class="mb-4 text-lg text-center">Die Kerben ("Keys") im Anschluss einer M.2-Karte verhindern, dass sie in einen inkompatiblen Steckplatz gesteckt wird. Jeder Key ist für bestimmte Protokolle vorgesehen.</p>
                
                <div class="flex flex-wrap gap-2 mb-6 justify-center" id="keyingButtons">
                    <button class="nav-btn active" data-key="b" style="background-color: #4f46e5;">Key B</button>
                    <button class="nav-btn" data-key="m">Key M</button>
                    <button class="nav-btn" data-key="b+m">Key B+M</button>
                    <button class="nav-btn" data-key="a">Key A</button>
                    <button class="nav-btn" data-key="e">Key E</button>
                    <button class="nav-btn" data-key="a+e">Key A+E</button>
                </div>
                
                <div class="max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
                    <div class="space-y-8">
                        <!-- Visual Key Pattern -->
                        <div class="bg-gray-800 p-6 rounded-lg">
                            <h3 class="text-xl font-semibold text-white mb-4 text-center">Pin-Layout Visualisierung</h3>
                            <div class="key-visualization mx-auto" style="max-width: 400px;">
                                <div class="pin-connector" id="pinConnector">
                                    <div class="pin-row top"></div>
                                    <div class="pin-row bottom"></div>
                                    <div class="pin-labels">
                                        <span>Pin 1</span>
                                        <span>Pin 75</span>
                                    </div>
                                    <!-- Notches will be added dynamically -->
                                </div>
                                <div class="text-xs text-gray-400 mt-3 text-center" id="keyLabel">Key B: Kerbe nach Pin 6</div>
                            </div>
                        </div>
                        <!-- Image -->
                        <div class="bg-gray-800 p-6 rounded-lg">
                            <img src="2.png" alt="M.2 Keying" class="rounded-lg shadow-lg w-full">
                        </div>
                    </div>
                    
                    <!-- Technical Details -->
                    <div id="keyDescription" class="bg-gray-800 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold text-white mb-4">Key B</h3>
                        <div class="space-y-4">
                            <div class="border-l-4 border-blue-500 pl-4">
                                <h4 class="text-blue-400 font-medium mb-2">Position & Protokolle</h4>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• Kerbe nach Pin 6 (Pins 12-19)</li>
                                    <li>• Unterstützt SATA und PCIe x2</li>
                                    <li>• Maximaler Durchsatz: ~1 GB/s</li>
                                </ul>
                            </div>
                            
                            <div class="border-l-4 border-green-500 pl-4">
                                <h4 class="text-green-400 font-medium mb-2">Typische Anwendungen</h4>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• SATA M.2 SSDs</li>
                                    <li>• Ältere NVMe SSDs (PCIe x2)</li>
                                    <li>• Budget-Speicherlösungen</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 4: NVMe vs SATA -->
        <div class="section" id="section4">
            <div class="slide-number">4/8</div>
            <h1 class="section-title">Leistungsunterschiede: Detaillierter Vergleich</h1>
            <div class="content-section">
                <!-- Detaillierte Vergleichstabelle -->
                <div class="bg-gray-800 p-6 rounded-lg mb-8">
                    <h3 class="text-xl font-semibold text-white mb-6 text-center">Performance-Vergleichstabelle</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="border-b border-gray-700">
                                    <th class="text-left py-3 px-4 font-semibold text-gray-300">Speichertyp</th>
                                    <th class="text-center py-3 px-4 font-semibold text-gray-300">Sequenzieller Read</th>
                                    <th class="text-center py-3 px-4 font-semibold text-gray-300">Sequenzieller Write</th>
                                    <th class="text-center py-3 px-4 font-semibold text-gray-300">Random IOPS</th>
                                    <th class="text-center py-3 px-4 font-semibold text-gray-300">Latenz</th>
                                    <th class="text-center py-3 px-4 font-semibold text-gray-300">Warteschlangen</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-300">
                                <!-- HDD -->
                                <tr class="border-b border-gray-700 hover:bg-gray-700/50 transition-colors">
                                    <td class="py-3 px-4">
                                        <div class="flex items-center">
                                            <span class="text-red-400 mr-2">💾</span>
                                            <span class="font-medium">HDD (SATA)</span>
                                        </div>
                                    </td>
                                    <td class="text-center py-3 px-4 text-red-400">~150 MB/s</td>
                                    <td class="text-center py-3 px-4 text-red-400">~150 MB/s</td>
                                    <td class="text-center py-3 px-4 text-red-400">~100-200</td>
                                    <td class="text-center py-3 px-4 text-red-400">5-15 ms</td>
                                    <td class="text-center py-3 px-4 text-red-400">1 × 32</td>
                                </tr>
                                
                                <!-- SATA M.2 -->
                                <tr class="border-b border-gray-700 hover:bg-gray-700/50 transition-colors">
                                    <td class="py-3 px-4">
                                        <div class="flex items-center">
                                            <span class="text-amber-400 mr-2">📊</span>
                                            <span class="font-medium">SATA M.2</span>
                                        </div>
                                    </td>
                                    <td class="text-center py-3 px-4 text-amber-400">~550 MB/s</td>
                                    <td class="text-center py-3 px-4 text-amber-400">~520 MB/s</td>
                                    <td class="text-center py-3 px-4 text-amber-400">~100.000</td>
                                    <td class="text-center py-3 px-4 text-amber-400">30-100 µs</td>
                                    <td class="text-center py-3 px-4 text-amber-400">1 × 32</td>
                                </tr>
                                
                                <!-- NVMe PCIe 3.0 -->
                                <tr class="border-b border-gray-700 hover:bg-gray-700/50 transition-colors">
                                    <td class="py-3 px-4">
                                        <div class="flex items-center">
                                            <span class="text-blue-400 mr-2">🚀</span>
                                            <span class="font-medium">NVMe PCIe 3.0</span>
                                        </div>
                                    </td>
                                    <td class="text-center py-3 px-4 text-blue-400">~3.500 MB/s</td>
                                    <td class="text-center py-3 px-4 text-blue-400">~3.000 MB/s</td>
                                    <td class="text-center py-3 px-4 text-blue-400">~500.000</td>
                                    <td class="text-center py-3 px-4 text-blue-400">2-20 µs</td>
                                    <td class="text-center py-3 px-4 text-blue-400">65.536 × 65.536</td>
                                </tr>
                                
                                <!-- NVMe PCIe 4.0 -->
                                <tr class="border-b border-gray-700 hover:bg-gray-700/50 transition-colors">
                                    <td class="py-3 px-4">
                                        <div class="flex items-center">
                                            <span class="text-green-400 mr-2">⚡</span>
                                            <span class="font-medium">NVMe PCIe 4.0</span>
                                        </div>
                                    </td>
                                    <td class="text-center py-3 px-4 text-green-400">~7.000 MB/s</td>
                                    <td class="text-center py-3 px-4 text-green-400">~6.500 MB/s</td>
                                    <td class="text-center py-3 px-4 text-green-400">~1.000.000</td>
                                    <td class="text-center py-3 px-4 text-green-400">1-10 µs</td>
                                    <td class="text-center py-3 px-4 text-green-400">65.536 × 65.536</td>
                                </tr>
                                
                                <!-- NVMe PCIe 5.0 -->
                                <tr class="hover:bg-gray-700/50 transition-colors">
                                    <td class="py-3 px-4">
                                        <div class="flex items-center">
                                            <span class="text-purple-400 mr-2">🔥</span>
                                            <span class="font-medium">NVMe PCIe 5.0</span>
                                        </div>
                                    </td>
                                    <td class="text-center py-3 px-4 text-purple-400">~14.000 MB/s</td>
                                    <td class="text-center py-3 px-4 text-purple-400">~12.000 MB/s</td>
                                    <td class="text-center py-3 px-4 text-purple-400">~1.500.000</td>
                                    <td class="text-center py-3 px-4 text-purple-400">1-5 µs</td>
                                    <td class="text-center py-3 px-4 text-purple-400">65.536 × 65.536</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Performance-Balken Visualisierung -->
                <div class="bg-gray-800 p-6 rounded-lg mb-8">
                    <h3 class="text-xl font-semibold text-white mb-6 text-center">Geschwindigkeitsvergleich (Sequenzieller Read)</h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <span class="text-gray-300 w-32 text-sm">HDD:</span>
                            <div class="flex-1 mx-4">
                                <div class="w-8 h-6 bg-red-600 rounded flex items-center justify-center">
                                    <span class="text-xs text-white font-bold">150</span>
                                </div>
                            </div>
                            <span class="text-red-400 text-sm">150 MB/s</span>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <span class="text-gray-300 w-32 text-sm">SATA M.2:</span>
                            <div class="flex-1 mx-4">
                                <div class="w-16 h-6 bg-amber-600 rounded flex items-center justify-center">
                                    <span class="text-xs text-white font-bold">550</span>
                                </div>
                            </div>
                            <span class="text-amber-400 text-sm">550 MB/s</span>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <span class="text-gray-300 w-32 text-sm">PCIe 3.0:</span>
                            <div class="flex-1 mx-4">
                                <div class="w-32 h-6 bg-blue-600 rounded flex items-center justify-center">
                                    <span class="text-xs text-white font-bold">3.500</span>
                                </div>
                            </div>
                            <span class="text-blue-400 text-sm">3.500 MB/s</span>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <span class="text-gray-300 w-32 text-sm">PCIe 4.0:</span>
                            <div class="flex-1 mx-4">
                                <div class="w-48 h-6 bg-green-600 rounded flex items-center justify-center">
                                    <span class="text-xs text-white font-bold">7.000</span>
                                </div>
                            </div>
                            <span class="text-green-400 text-sm">7.000 MB/s</span>
                        </div>
                        
                        <div class="flex items-center justify-between">
                            <span class="text-gray-300 w-32 text-sm">PCIe 5.0:</span>
                            <div class="flex-1 mx-4">
                                <div class="w-full h-6 bg-purple-600 rounded flex items-center justify-center">
                                    <span class="text-xs text-white font-bold">14.000</span>
                                </div>
                            </div>
                            <span class="text-purple-400 text-sm">14.000 MB/s</span>
                        </div>
                    </div>
                </div>

                <!-- Wichtige Erkenntnisse -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-green-900/20 p-6 rounded-lg border border-green-800">
                        <h3 class="text-green-400 font-semibold mb-4 text-xl">📈 Performance-Sprung</h3>
                        <ul class="space-y-2 text-sm">
                            <li><strong>HDD → SATA M.2:</strong> ~3.7x schneller</li>
                            <li><strong>SATA → PCIe 3.0:</strong> ~6.4x schneller</li>
                            <li><strong>PCIe 3.0 → 4.0:</strong> ~2x schneller</li>
                            <li><strong>PCIe 4.0 → 5.0:</strong> ~2x schneller</li>
                            <li><strong>HDD → PCIe 5.0:</strong> ~93x schneller!</li>
                        </ul>
                    </div>
                    
                    <div class="bg-blue-900/20 p-6 rounded-lg border border-blue-800">
                        <h3 class="text-blue-400 font-semibold mb-4 text-xl">⚡ Praktische Auswirkungen</h3>
                        <ul class="space-y-2 text-sm">
                            <li><strong>Systemstart:</strong> 30s → 5s → 3s → 2s</li>
                            <li><strong>Spiel-Ladezeiten:</strong> 60s → 10s → 5s → 3s</li>
                            <li><strong>Video-Rendering:</strong> Stunden → Minuten</li>
                            <li><strong>Datenbanken:</strong> Dramatisch schnellere Queries</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 5: Anwendungsfälle -->
        <div class="section" id="section5">
            <div class="slide-number">5/8</div>
            <h1 class="section-title">Anwendungsfälle und Auswahlkriterien</h1>
            <div class="content-section">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-amber-900/20 p-6 rounded-lg border border-amber-800">
                        <h3 class="text-amber-400 font-semibold mb-4 text-xl">💰 SATA M.2 - Ideal für:</h3>
                        <ul class="space-y-3 text-sm">
                            <li><span class="text-green-400">💻</span> <strong>Budget-Systeme:</strong> Günstigere Alternative zu 2,5" SATA-SSDs</li>
                            <li><span class="text-green-400">🔄</span> <strong>Upgrades:</strong> Ältere Systeme mit SATA-Limitationen</li>
                            <li><span class="text-green-400">📚</span> <strong>Datenspeicher:</strong> Große Dateien, weniger häufige Zugriffe</li>
                            <li><span class="text-green-400">🏢</span> <strong>Büroanwendungen:</strong> Word, Excel, E-Mail, Webbrowsing</li>
                            <li><span class="text-green-400">🎮</span> <strong>Gaming (Entry-Level):</strong> Spielespeicher, moderate Ladezeiten akzeptabel</li>
                        </ul>
                    </div>

                    <div class="bg-blue-900/20 p-6 rounded-lg border border-blue-800">
                        <h3 class="text-blue-400 font-semibold mb-4 text-xl">🚀 NVMe M.2 - Ideal für:</h3>
                        <ul class="space-y-3 text-sm">
                            <li><span class="text-blue-400">⚡</span> <strong>High-Performance:</strong> Gaming, Video-Editing, 3D-Rendering</li>
                            <li><span class="text-blue-400">🖥️</span> <strong>Workstations:</strong> Professionelle Anwendungen, große Datensätze</li>
                            <li><span class="text-blue-400">🎯</span> <strong>System-Festplatte:</strong> Betriebssystem und Programme</li>
                            <li><span class="text-blue-400">📊</span> <strong>Datenbanken:</strong> Hohe IOPS-Anforderungen</li>
                            <li><span class="text-blue-400">🔬</span> <strong>Wissenschaftliche Anwendungen:</strong> Simulationen, Datenanalyse</li>
                        </ul>
                    </div>
                </div>

                <!-- Auswahlkriterien -->
                <div class="space-y-6">
                    <div class="bg-gray-800 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold text-white mb-4">Entscheidungshilfe</h3>
                        <div class="space-y-4">
                            <div class="border-l-4 border-yellow-500 pl-4">
                                <h4 class="text-yellow-400 font-medium mb-2">Wählen Sie SATA wenn:</h4>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• Budget ist begrenzt</li>
                                    <li>• Ihr Mainboard nur SATA unterstützt</li>
                                    <li>• Sie hauptsächlich Büroanwendungen nutzen</li>
                                    <li>• Sie von einer HDD upgraden</li>
                                </ul>
                            </div>
                            
                            <div class="border-l-4 border-green-500 pl-4">
                                <h4 class="text-green-400 font-medium mb-2">Wählen Sie NVMe wenn:</h4>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• Sie maximale Performance benötigen</li>
                                    <li>• Ihr Mainboard PCIe unterstützt</li>
                                    <li>• Sie professionelle Anwendungen nutzen</li>
                                    <li>• Zukunftssicherheit wichtig ist</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Preis-Leistungs-Vergleich -->
                    <div class="bg-gray-800 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold text-white mb-4">Preis-Leistungs-Vergleich</h3>
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between items-center py-2 border-b border-gray-700">
                                <span class="text-gray-400">SATA M.2 (1TB):</span>
                                <span class="text-white">€40-80</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-700">
                                <span class="text-gray-400">NVMe M.2 (1TB):</span>
                                <span class="text-white">€60-200+</span>
                            </div>
                            <div class="flex justify-between items-center py-2">
                                <span class="text-gray-400">Performance-Gewinn:</span>
                                <span class="text-green-400">3-15x schneller</span>
                            </div>
                        </div>
                        <p class="text-xs text-gray-400 mt-3 text-center">Preise variieren je nach Marke und Modell</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 6: Einbau und Kompatibilität -->
        <div class="section" id="section6">
            <div class="slide-number">6/8</div>
            <h1 class="section-title">Einbau und Konfiguration</h1>
            <div class="content-section">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div>
                        <ol class="list-decimal list-inside space-y-4 text-lg">
                            <li><strong class="text-indigo-400">Slot auswählen:</strong> Key-Typ und Länge beachten</li>
                            <li><strong class="text-indigo-400">Modul einsetzen:</strong> Im 30°-Winkel einführen</li>
                            <li><strong class="text-indigo-400">Fixieren:</strong> Herunterdrücken und sichern</li>
                            <li><strong class="text-indigo-400">BIOS prüfen:</strong> Erkennung kontrollieren</li>
                            <li><strong class="text-indigo-400">Partitionierung:</strong> GPT-Schema und Formatierung</li>
                        </ol>
                        <div class="mt-6 p-4 bg-yellow-900/20 rounded-lg border border-yellow-800">
                            <p class="text-yellow-400">⚠️ Wichtig: Abstandshalter und passende Schrauben sind erforderlich!</p>
                        </div>
                    </div>
                    <div>
                        <img src="Folie6.jpg" alt="M.2 Einbau" class="rounded-lg shadow-lg w-full">
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 7: Vor- und Nachteile -->
        <div class="section" id="section7">
            <div class="slide-number">7/8</div>
            <h1 class="section-title">Vorteile und Herausforderungen</h1>
            <div class="content-section">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-green-900/20 p-6 rounded-lg">
                        <h3 class="text-green-400 font-semibold mb-4 text-xl">✅ Vorteile</h3>
                        <ul class="space-y-2">
                            <li>Kompakte Bauform</li>
                            <li>Hohe Datentransferraten</li>
                            <li>Flexible Nutzung</li>
                            <li>Zukunftssicher</li>
                        </ul>
                    </div>
                    <div class="bg-red-900/20 p-6 rounded-lg">
                        <h3 class="text-red-400 font-semibold mb-4 text-xl">⚠️ Herausforderungen</h3>
                        <ul class="space-y-2">
                            <li>Wärmeentwicklung</li>
                            <li>Kompatibilitätsprüfung</li>
                            <li>Mechanische Installation</li>
                            <li>Preisunterschiede</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 8: Ausblick -->
        <div class="section" id="section8">
            <div class="slide-number">8/8</div>
            <h1 class="section-title">Ausblick</h1>
            <div class="content-section">
                <div class="space-y-6">
                    <div class="flex items-start space-x-4">
                        <span class="text-2xl">📈</span>
                        <div>
                            <h3 class="text-indigo-400 font-semibold">PCIe Gen 5 & 6</h3>
                            <p class="text-gray-300">Durchsatz bis zu 14 GB/s möglich</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <span class="text-2xl">🏗️</span>
                        <div>
                            <h3 class="text-indigo-400 font-semibold">Kompaktere Geräte</h3>
                            <p class="text-gray-300">Integration in Ultrabooks und Mini-PCs</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <span class="text-2xl">📡</span>
                        <div>
                            <h3 class="text-indigo-400 font-semibold">Neue Funk-Module</h3>
                            <p class="text-gray-300">Wi-Fi 7 und 5G-Module für M.2</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-4">
                        <span class="text-2xl">🔧</span>
                        <div>
                            <h3 class="text-indigo-400 font-semibold">Erweiterte Anwendungen</h3>
                            <p class="text-gray-300">KI-Beschleuniger und spezielle Compute-Module</p>
                            <img src="3bildwifimodul.jpg" alt="WiFi Modul" class="mt-3 rounded-lg shadow-lg max-w-xs">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="nav-btn" id="prevBtn" onclick="window.previousSection()" disabled>Zurück</button>
            <span class="step-indicator" id="stepIndicator">1 / 8</span>
            <button class="nav-btn" id="nextBtn" onclick="window.nextSection()">Weiter</button>
        </div>
    </div>

    <div class="presenter-footer">
        Vortrag: Die Schnittstelle M.2 | Alexander Schneider & Michael Worm | FI-S 25/02
    </div>

    <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
        import { DRACOLoader } from 'three/addons/loaders/DRACOLoader.js';
        import { CSS3DRenderer, CSS3DObject } from 'three/addons/renderers/CSS3DRenderer.js';

        // === THREE.JS SETUP ===
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 5000);
        camera.position.z = 1500; // Start further back to see the whole scene initially
        const renderer = new THREE.WebGLRenderer({
            canvas: document.querySelector('#webgl'),
            antialias: true,
            alpha: true // Make canvas transparent
        });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

        // === CSS3D RENDERER ===
        const cssScene = new THREE.Scene();
        const cssRenderer = new CSS3DRenderer();
        cssRenderer.setSize(window.innerWidth, window.innerHeight);
        cssRenderer.domElement.style.position = 'absolute';
        cssRenderer.domElement.style.top = 0;
        document.body.appendChild(cssRenderer.domElement);

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            cssRenderer.setSize(window.innerWidth, window.innerHeight);
        });

        // === LIGHTS ===
        const ambientLight = new THREE.AmbientLight(0xffffff, 2.1);
        scene.add(ambientLight);

        const directionalLight = new THREE.DirectionalLight(0xffffff, 1.8);
        directionalLight.position.set(1, 2, 3);
        scene.add(directionalLight);

        // === 3D MODEL LOADER ===
        const dracoLoader = new DRACOLoader();
        dracoLoader.setDecoderPath('https://unpkg.com/three@0.164.1/examples/jsm/libs/draco/gltf/');
        const gltfLoader = new GLTFLoader();
        gltfLoader.setDRACOLoader(dracoLoader);

        let model = null;
        gltfLoader.load(
            '/logo_3d.glb',
            (gltf) => {
                model = gltf.scene;
                model.scale.set(0.5, 0.5, 0.5);
                model.position.y = -1.5;
                scene.add(model);

                // Animate model into view
                gsap.to(model.position, { duration: 2, y: -0.5, ease: 'power2.out' });
            }
        );

        // === PARTICLES ===
        const particlesCount = 7000;
        const positions = new Float32Array(particlesCount * 3);
        for(let i = 0; i < particlesCount; i++) {
            positions[i * 3 + 0] = (Math.random() - 0.5) * 10;
            positions[i * 3 + 1] = (Math.random() - 0.5) * 10;
            positions[i * 3 + 2] = (Math.random() - 0.5) * 10;
        }
        const particlesGeometry = new THREE.BufferGeometry();
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
        const particlesMaterial = new THREE.PointsMaterial({
            color: '#764ba2',
            sizeAttenuation: true,
            size: 0.02
        });
        const particles = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particles);

        // === MOUSE TRACKING ===
        const mouse = new THREE.Vector2();
        window.addEventListener('mousemove', (event) => {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;
        });

        // === CAMERA GROUP ===
        const cameraGroup = new THREE.Group();
        cameraGroup.add(camera);
        scene.add(cameraGroup);

        // === RENDER LOOP ===
        const clock = new THREE.Clock();
        const tick = () => {
            const elapsedTime = clock.getElapsedTime();

            // Animate model
            if (model) {
                model.rotation.y = elapsedTime * 0.2;
            }

            // Animate particles
            particles.rotation.y = elapsedTime * 0.05;
            particles.rotation.x = elapsedTime * 0.02;

            // Animate camera parallax
            const parallaxX = mouse.x * 0.5;
            const parallaxY = -mouse.y * 0.5;
            cameraGroup.position.x += (parallaxX - cameraGroup.position.x) * 0.02;
            cameraGroup.position.y += (parallaxY - cameraGroup.position.y) * 0.02;

            renderer.render(scene, camera);
            cssRenderer.render(cssScene, camera); // Render the CSS3D scene
            window.requestAnimationFrame(tick);
        };
        tick();

        // === ORIGINAL SCRIPT LOGIC ===
        let currentSection = 1;
        const totalSections = 8;

        window.startPresentation = function() {
            gsap.to(document.getElementById('welcomeScreen'), {
                duration: 1,
                opacity: 0,
                onComplete: () => {
                    document.getElementById('welcomeScreen').style.display = 'none';
                    document.getElementById('presentationContainer').style.display = 'block';
                }
            });

            // Animate out the model
            if (model) {
                gsap.to(model.scale, { duration: 1.5, x: 0, y: 0, z: 0, ease: 'power2.inOut' });
            }

            // Move camera to the first slide
            showSection(1);
        }

        window.showSection = function(sectionNumber) {
            const targetObject = objects[sectionNumber - 1];

            // Animate camera to the target object
            gsap.to(camera.position, {
                duration: 2.5,
                x: targetObject.position.x,
                y: targetObject.position.y,
                z: targetObject.position.z + 1000, // Adjust Z to be closer to the slide
                ease: 'power3.inOut'
            });

            // Create a dummy object to tween the rotation towards the target
            const targetRotation = new THREE.Euler().copy(targetObject.rotation);
            gsap.to(camera.rotation, {
                duration: 2.5,
                x: targetObject.rotation.x,
                y: targetObject.rotation.y,
                z: targetObject.rotation.z,
                ease: 'power3.inOut'
            });

            // Update navigation
            document.getElementById('prevBtn').disabled = (sectionNumber === 1);
            document.getElementById('nextBtn').disabled = (sectionNumber === totalSections);
            document.getElementById('stepIndicator').textContent = `${sectionNumber} / ${totalSections}`;

            // Update current section
            currentSection = sectionNumber;
        }

        window.nextSection = function() {
            if (currentSection < totalSections) {
                showSection(currentSection + 1);
            }
        }

        window.previousSection = function() {
            if (currentSection > 1) {
                showSection(currentSection - 1);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (document.getElementById('presentationContainer').style.display === 'block') {
                switch(event.key) {
                    case 'ArrowRight':
                    case 'Space':
                        event.preventDefault();
                        nextSection();
                        break;
                    case 'ArrowLeft':
                        event.preventDefault();
                        previousSection();
                        break;
                    case 'Home':
                        event.preventDefault();
                        showSection(1);
                        break;
                    case 'End':
                        event.preventDefault();
                        showSection(totalSections);
                        break;
                }
            }
        });

        // Formfaktoren Interaktivität
        function setupFormFactorInteractivity() {
            const formFactorButtons = document.getElementById('formFactorButtons');
            const ssdVisualization = document.getElementById('ssdVisualization');
            const ssdLabel = document.getElementById('ssdLabel');
            
            if (!formFactorButtons || !ssdVisualization || !ssdLabel) return;
            
            const formFactors = {
                '30': '30%',
                '42': '40%', 
                '60': '55%', 
                '80': '70%', 
                '110': '100%' 
            };

            formFactorButtons.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    // Klassenmanagement für Buttons
                    formFactorButtons.querySelectorAll('.nav-btn').forEach(btn => {
                        btn.style.backgroundColor = '';
                        btn.classList.remove('active');
                    });
                    e.target.style.backgroundColor = '#4f46e5';
                    e.target.classList.add('active');
                    
                    const length = e.target.dataset.length;
                    ssdVisualization.style.width = formFactors[length];
                    ssdLabel.textContent = `22${length}`;
                }
            });
        }

        // Keying Interaktivität - Verbesserte Version
        function setupKeyingInteractivity() {
            const keyingButtons = document.getElementById('keyingButtons');
            const keyDescription = document.getElementById('keyDescription');
            const pinConnector = document.getElementById('pinConnector');
            const keyLabel = document.getElementById('keyLabel');
            
            if (!keyingButtons || !keyDescription || !pinConnector || !keyLabel) return;
            
            const keyingData = {
                b: {
                    title: 'Key B',
                    desc: 'Einzelne Kerbe an den Pins 12-19 – unterstützt SATA und/oder PCIe x2.',
                    label: 'Key B: Kerbe nach Pin 6 (Pins 12-19)',
                    notches: [{ position: '15%', width: '8%', color: '#3b82f6' }],
                    details: {
                        position: 'Pins 12-19',
                        lanes: 'PCIe x2, SATA',
                        usage: 'SATA SSDs, einige NVMe SSDs',
                        speed: '~1 GB/s max'
                    }
                },
                m: {
                    title: 'Key M',
                    desc: 'Einzelne Kerbe an den Pins 59-66 – unterstützt SATA und/oder PCIe x4.',
                    label: 'Key M: Kerbe nach Pin 59 (Pins 59-66)',
                    notches: [{ position: '75%', width: '8%', color: '#10b981' }],
                    details: {
                        position: 'Pins 59-66',
                        lanes: 'PCIe x4, SATA',
                        usage: 'NVMe SSDs (High-Performance)',
                        speed: '~3.5+ GB/s'
                    }
                },
                'b+m': {
                    title: 'Key B+M',
                    desc: 'Zwei Kerben, maximale Kompatibilität, aber auf PCIe x2 beschränkt.',
                    label: 'Key B+M: Zwei Kerben für maximale Kompatibilität',
                    notches: [
                        { position: '15%', width: '8%', color: '#3b82f6' },
                        { position: '75%', width: '8%', color: '#10b981' }
                    ],
                    details: {
                        position: 'Pins 12-19 & 59-66',
                        lanes: 'PCIe x2, SATA',
                        usage: 'SATA SSDs, ältere NVMe SSDs',
                        speed: '~1 GB/s max'
                    }
                },
                a: {
                    title: 'Key A',
                    desc: 'Kerbe an den Pins 8-15. Für Wi-Fi und Bluetooth Karten.',
                    label: 'Key A: Kerbe nach Pin 8 (Pins 8-15)',
                    notches: [{ position: '10%', width: '6%', color: '#8b5cf6' }],
                    details: {
                        position: 'Pins 8-15',
                        interfaces: 'PCIe, USB',
                        usage: 'Wi-Fi, Bluetooth',
                        speed: 'Variabel'
                    }
                },
                e: {
                    title: 'Key E',
                    desc: 'Kerbe an den Pins 24-31. Für Wi-Fi und Bluetooth Karten.',
                    label: 'Key E: Kerbe nach Pin 24 (Pins 24-31)',
                    notches: [{ position: '30%', width: '6%', color: '#f59e0b' }],
                    details: {
                        position: 'Pins 24-31',
                        interfaces: 'PCIe, USB',
                        usage: 'Wi-Fi, Bluetooth',
                        speed: 'Variabel'
                    }
                },
                'a+e': {
                    title: 'Key A+E',
                    desc: 'Zwei Kerben für Wi-Fi und Bluetooth Karten.',
                    label: 'Key A+E: Zwei Kerben für Wi-Fi/Bluetooth',
                    notches: [
                        { position: '10%', width: '6%', color: '#8b5cf6' },
                        { position: '30%', width: '6%', color: '#f59e0b' }
                    ],
                    details: {
                        position: 'Pins 8-15 & 24-31',
                        interfaces: 'PCIe, USB',
                        usage: 'Wi-Fi, Bluetooth',
                        speed: 'Variabel'
                    }
                }
            };

            function updateKeyingView(key) {
                const data = keyingData[key];
                
                // Clear existing notches
                const existingNotches = pinConnector.querySelectorAll('.pin-notch');
                existingNotches.forEach(notch => notch.remove());
                
                // Add new notches
                data.notches.forEach(notch => {
                    const notchElement = document.createElement('div');
                    notchElement.className = 'pin-notch';
                    notchElement.style.left = notch.position;
                    notchElement.style.width = notch.width;
                    notchElement.style.borderColor = notch.color;
                    pinConnector.appendChild(notchElement);
                });
                
                // Update label
                keyLabel.textContent = data.label;
                
                // Update description
                keyDescription.innerHTML = `
                    <h3 class="text-xl font-semibold text-white mb-4">${data.title}</h3>
                    <p class="text-gray-300 mb-4">${data.desc}</p>
                    <div class="space-y-3">
                        ${Object.entries(data.details).map(([key, value]) => `
                            <div class="flex justify-between">
                                <span class="text-gray-400 capitalize">${key.replace('_', ' ')}:</span>
                                <span class="text-white">${value}</span>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            keyingButtons.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    keyingButtons.querySelectorAll('.nav-btn').forEach(btn => {
                        btn.style.backgroundColor = '';
                        btn.classList.remove('active');
                    });
                    e.target.style.backgroundColor = '#4f46e5';
                    e.target.classList.add('active');
                    updateKeyingView(e.target.dataset.key);
                }
            });

            // Initial view
            updateKeyingView('b');
        }

        // === CSS3D OBJECTS ===
        const objects = [];
        const sections = document.querySelectorAll('.section');
        const angleStep = (Math.PI * 2) / sections.length;
        const radius = 4000;

        sections.forEach((section, i) => {
            const object = new CSS3DObject(section);
            const angle = i * angleStep;
            object.position.x = Math.sin(angle) * radius;
            object.position.z = Math.cos(angle) * radius;
            object.rotation.y = -angle;

            cssScene.add(object);
            objects.push(object);
        });

        // Initial setup
        document.addEventListener('DOMContentLoaded', function () {
            // Ensure welcome screen is visible initially
            document.getElementById('welcomeScreen').style.display = 'flex';
            document.getElementById('presentationContainer').style.display = 'none';
            
            // Setup interactivity when sections are loaded
            setupFormFactorInteractivity();
        });
    </script>
</body>
</html>

